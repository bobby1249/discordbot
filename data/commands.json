[null,{"name":"help","permissions":"NONE","restriction":"1","actions":[{"title":"Help:","author":"TechnoBotCommandHelp","color":"#00FFFB","timestamp":"false","url":"","authorIcon":"https://pbs.twimg.com/profile_images/847212372599087105/uZxDBCJv.jpg","imageUrl":"","thumbUrl":"https://pbs.twimg.com/profile_images/847212372599087105/uZxDBCJv.jpg","storage":"1","varName":"help","name":"Create Embed Message"},{"storage":"1","varName":"help","message":"**Misc Commands**\n`//help` Shows this message\n`//say (ANYTHING)` Sends what ever you want it to say\n`//bcast (ANYTHING)` Sends a server broadcast [ADMIN-ONLY]\n`//download (ANYTHING)` Fake download anything\n`//wdh` Gets all `WatchDog` commands\n`//wdr (@USER AND REASON)` Report a user to server admins\n`//myavatar` Shows your avatar image\n**Moderation Commands**\n`//ban @USER` Bans a user from your server\n`//purge (AMOUNT)` Delete bulk messages\n`//rolecreate (NAME)` Creates a role\n`//warn @USER (REASON)` Warns a user\n\nTechnobot discord server: https://discord.gg/QcRB6Jt","name":"Set Embed Description"},{"storage":"1","varName":"help","channel":"1","varName2":"","name":"Send Embed Message"},{"channel":"0","varName":"","message":":mailbox_with_mail: You've got mail :mailbox_with_mail: ","storage":"0","varName2":"","name":"Send Message"}]},{"name":"say","permissions":"NONE","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"say","name":"Store Command Params"},{"storage":"0","varName":"","name":"Delete Message"},{"title":"Say:","author":"","color":"08FF00","timestamp":"false","url":"","authorIcon":"","imageUrl":"","thumbUrl":"","storage":"1","varName":"says","name":"Create Embed Message"},{"storage":"1","varName":"says","message":"${tempVars(\"say\")}","name":"Set Embed Description"},{"storage":"1","varName":"says","channel":"0","varName2":"","name":"Send Embed Message"}]},{"name":"online","permissions":"NONE","restriction":"4","actions":[{"gameName":"//help","gameLink":"","name":"Set Bot Game"}]},{"name":"bcast","permissions":"ADMINISTRATOR","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"bcasttttttttttt","name":"Store Command Params"},{"storage":"0","varName":"","name":"Delete Message"},{"title":":warning: Server Broadcast :warning: ","author":"","color":"#FF0000","timestamp":"true","url":"","authorIcon":"","imageUrl":"","thumbUrl":"","storage":"1","varName":"bcast","name":"Create Embed Message"},{"storage":"1","varName":"bcast","message":"${tempVars(\"bcasttttttttttt\")}","name":"Set Embed Description"},{"storage":"1","varName":"bcast","channel":"0","varName2":"","name":"Send Embed Message"}]},{"name":"download","permissions":"NONE","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"downblaodh","name":"Store Command Params"},{"channel":"0","varName":"","message":"`10%` Downloading ${tempVars(\"downblaodh\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`26%` Downloading ${tempVars(\"downblaodh\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`43%` Downloading ${tempVars(\"downblaodh\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`67%` Downloading ${tempVars(\"downblaodh\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`88%` Downloading ${tempVars(\"downblaodh\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`99%` Downloading ${tempVars(\"downblaodh\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"${tempVars(\"downblaodh\")} Failed to install `Error code 404`","storage":"0","varName2":"","name":"Send Message"}]},{"name":"ban","permissions":"BAN_MEMBERS","restriction":"1","actions":[{"member":"0","varName":"","reason":"Banned","name":"Ban Member"},{"channel":"0","varName":"","message":"If a `WatchDog` message did not appear make sure to mention the user!","storage":"0","varName2":"","name":"Send Message"}]},{"name":"purge","permissions":"MANAGE_MESSAGES","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"purgeee","name":"Store Command Params"},{"channel":"0","count":"${tempVars(\"purgeee\")}","condition":"0","custom":"","varName":"","name":"Delete Bulk Messages"},{"channel":"0","varName":"","message":"Deleted ` ${tempVars(\"purgeee\")} ` messages from ` ${msg.channel} `","storage":"0","varName2":"","name":"Send Message"}]},{"name":"createrole","permissions":"MANAGE_CHANNELS","restriction":"1","actions":[{"info":"0","infoIndex":"1","storage":"1","varName":"rolecreate","name":"Store Command Params"},{"info":"0","infoIndex":"1","storage":"1","varName":"rolecolor","name":"Store Command Params"},{"roleName":"${tempVars(\"rolecreate\")}","hoist":"true","mentionable":"true","color":"${tempVars(\"rolecolor\")}","position":"","storage":"1","varName":"rolecreted","name":"Create Role"},{"channel":"0","varName":"","message":"Created role `${tempVars(\"rolecolor\")}`","storage":"0","varName2":"","name":"Send Message"}]},{"name":"watchdog","permissions":"NONE","restriction":"1","actions":[{"channel":"0","varName":"","message":"`Watchdog:` Do `//wdh` for my commands!","storage":"0","varName2":"","name":"Send Message"}]},{"name":"wdh","permissions":"NONE","restriction":"1","actions":[{"channel":"0","varName":"","message":"Welcome to `WatchDog`\nYour id/username/account is ${member}\n\n`//wdr (@USER AND REASON)` Report a user","storage":"0","varName2":"","name":"Send Message"}]},{"name":"warn","permissions":"NONE","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"warn","name":"Store Command Params"},{"channel":"2","varName":"","message":"`WatchDog` You were warned in ${msg.channel} by ${member} for ${tempVars(\"warn\")}","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`WatchDog` Make sure to include a member or it wont work, if you did they should have recieved a message saying: You were warned in ${msg.channel} by ${member} for ${tempVars(\"warn\")}","storage":"0","varName2":"","name":"Send Message"}]},{"name":"wdr","permissions":"NONE","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"userandreason","name":"Store Command Params"},{"title":"WatchDog Report","author":"Watchdog","color":"#FF1B00","timestamp":"true","url":"","authorIcon":"https://i.ytimg.com/vi/3dn8dlNbIiw/maxresdefault.jpg","imageUrl":"","thumbUrl":"","storage":"1","varName":"wdrreport","name":"Create Embed Message"},{"storage":"1","varName":"wdrreport","message":"`WatchDogReport`\nReported by: ${member}\nReport info: ${tempVars(\"userandreason\")}","name":"Set Embed Description"},{"storage":"1","varName":"wdrreport","channel":"0","varName2":"","name":"Send Embed Message"}]},{"name":"myavatar","permissions":"NONE","restriction":"1","actions":[{"channel":"0","varName":"","message":"`WatchDog:` Processing your avatar","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`WatchDog:` Securing your avatar key","storage":"0","varName2":"","name":"Send Message"},{"channel":"0","varName":"","message":"`WatchDog:` Avatar secure, Avatar processed. **IMAGE FORMED**","storage":"0","varName2":"","name":"Send Message"},{"member":"1","varName":"","storage":"1","varName2":"myavatar","name":"Create Image from Avatar"},{"storage":"1","varName":"myavatar","channel":"0","varName2":"","message":"","name":"Send Image"},{"channel":"0","varName":"","message":"${member} 's Avatar!","storage":"0","varName2":"","name":"Send Message"}]},{"name":"test","permissions":"NONE","restriction":"1","actions":[{"behavior":"0","interpretation":"0","code":"const Canvas = require('canvas');\nconst { Command } = require('discord.js-commando');\nconst path = require('path');\nconst request = require('request-promise');\nconst { promisifyAll } = require('tsubaki');\n\nconst fs = promisifyAll(require('fs'));\n\nconst { GOOGLE_API, WEATHER_API } = process.env;\nconst { version } = require('../../package');\n\nmodule.exports = class WeatherCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'weather',\n\t\t\taliases: ['w', 'â˜', 'â›…', 'â›ˆ', 'ðŸŒ¤', 'ðŸŒ¥', 'ðŸŒ¦', 'ðŸŒ§', 'ðŸŒ¨', 'ðŸŒ©', 'ðŸŒª'],\n\t\t\tgroup: 'weather',\n\t\t\tmemberName: 'weather',\n\t\t\tdescription: 'Get the weather.',\n\t\t\tthrottling: {\n\t\t\t\tusages: 1,\n\t\t\t\tduration: 30\n\t\t\t},\n\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'location',\n\t\t\t\t\tprompt: 'what location would you like to have information on?\\n',\n\t\t\t\t\ttype: 'string'\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\tasync run(msg, args) {\n\t\tconst { location } = args;\n\t\tconst { Image } = Canvas;\n\n\t\tCanvas.registerFont(path.join(__dirname, '..', '..', 'assets', 'weather', 'fonts', 'Roboto-Regular.ttf'), { family: 'Roboto' }); // eslint-disable-line max-len\n\t\tCanvas.registerFont(path.join(__dirname, '..', '..', 'assets', 'weather', 'fonts', 'RobotoCondensed-Regular.ttf'), { family: 'Roboto Condensed' }); // eslint-disable-line max-len\n\t\tCanvas.registerFont(path.join(__dirname, '..', '..', 'assets', 'weather', 'fonts', 'RobotoMono-Light.ttf'), { family: 'Roboto Mono' }); // eslint-disable-line max-len\n\n\t\tif (!GOOGLE_API) return msg.reply('my Commander has not set the Google API Key. Go yell at him.');\n\t\tif (!WEATHER_API) return msg.reply('my Commander has not set the Weather API Key. Go yell at him.');\n\n\t\tconst locationURI = encodeURIComponent(location.replace(/ /g, '+'));\n\t\tconst response = await request({\n\t\t\turi: `https://maps.googleapis.com/maps/api/geocode/json?address=${locationURI}&key=${GOOGLE_API}`,\n\t\t\theaders: { 'User-Agent': `Commando v${version} (https://github.com/WeebDev/Commando/)` },\n\t\t\tjson: true\n\t\t});\n\n\t\tif (response.status !== 'OK') return msg.reply(this.handleNotOK(msg, response.status));\n\t\tif (response.results.length === 0) return msg.reply('your request returned no results.');\n\n\t\tconst geocodelocation = response.results[0].formatted_address;\n\t\tconst params = `${response.results[0].geometry.location.lat},${response.results[0].geometry.location.lng}`;\n\n\t\tconst locality = response.results[0].address_components.find(loc => loc.types.includes('locality'));\n\t\tconst governing = response.results[0].address_components.find(gov => gov.types.includes('administrative_area_level_1')); // eslint-disable-line max-len\n\t\tconst country = response.results[0].address_components.find(cou => cou.types.includes('country'));\n\t\tconst continent = response.results[0].address_components.find(con => con.types.includes('continent'));\n\n\t\tconst city = locality || governing || country || continent || {};\n\t\tconst state = locality && governing ? governing : locality ? country : {};\n\n\t\tconst res = await request({\n\t\t\turi: `https://api.darksky.net/forecast/${WEATHER_API}/${params}?exclude=minutely,hourly,flags&units=auto`,\n\t\t\theaders: { 'User-Agent': `Commando v${version} (https://github.com/WeebDev/Commando/)` },\n\t\t\tjson: true\n\t\t});\n\n\t\tconst condition = res.currently.summary;\n\t\tconst { icon } = res.currently;\n\t\tconst chanceofrain = Math.round((res.currently.precipProbability * 100) / 5) * 5;\n\t\tconst temperature = Math.round(res.currently.temperature);\n\t\tconst humidity = Math.round(res.currently.humidity * 100);\n\n\t\tconst canvas = new Canvas(400, 180);\n\t\tconst ctx = canvas.getContext('2d');\n\t\tconst base = new Image();\n\t\tconst cond = new Image();\n\t\tconst humid = new Image();\n\t\tconst precip = new Image();\n\n\t\tlet theme = 'light';\n\t\tlet fontColor = '#FFFFFF';\n\t\tif (icon === 'snow' || icon === 'sleet' || icon === 'fog') {\n\t\t\ttheme = 'dark';\n\t\t\tfontColor = '#444444';\n\t\t}\n\n\t\tconst generate = () => {\n\t\t\t// Environment Variables\n\t\t\tctx.drawImage(base, 0, 0);\n\t\t\tctx.scale(1, 1);\n\t\t\tctx.patternQuality = 'billinear';\n\t\t\tctx.filter = 'bilinear';\n\t\t\tctx.antialias = 'subpixel';\n\n\t\t\t// City Name\n\t\t\tctx.font = '20px Roboto';\n\t\t\tctx.fillStyle = fontColor;\n\t\t\tctx.fillText(city.long_name ? city.long_name : 'Unknown', 35, 50);\n\n\t\t\t// Prefecture Name\n\t\t\tctx.font = '16px Roboto';\n\t\t\tctx.fillStyle = theme === 'light' ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.8)';\n\t\t\tctx.fillText(state.long_name ? state.long_name : '', 35, 72.5);\n\n\t\t\t// Temperature\n\t\t\tctx.font = \"48px 'Roboto Mono'\";\n\t\t\tctx.fillStyle = fontColor;\n\t\t\tctx.fillText(`${temperature}Â°`, 35, 140);\n\n\t\t\t// Condition\n\t\t\tctx.font = '16px Roboto';\n\t\t\tctx.textAlign = 'right';\n\t\t\tctx.fillText(condition, 370, 142);\n\n\t\t\t// Condition Image\n\t\t\tctx.drawImage(cond, 325, 31);\n\n\t\t\t// Humidity Image\n\t\t\tctx.drawImage(humid, 358, 88);\n\n\t\t\t// Precip Image\n\t\t\tctx.drawImage(precip, 358, 108);\n\n\t\t\t// Titles\n\t\t\tctx.font = \"16px 'Roboto Condensed'\";\n\t\t\tctx.fillText(`${humidity}%`, 353, 100);\n\t\t\tctx.fillText(`${chanceofrain}%`, 353, 121);\n\t\t};\n\n\t\tbase.src = await fs.readFileAsync(this.getBase(icon));\n\t\tcond.src = await fs.readFileAsync(path.join(__dirname, '..', '..', 'assets', 'weather', 'icons', theme, `${icon}.png`)); // eslint-disable-line max-len\n\t\thumid.src = await fs.readFileAsync(path.join(__dirname, '..', '..', 'assets', 'weather', 'icons', theme, 'humidity.png')); // eslint-disable-line max-len\n\t\tprecip.src = await fs.readFileAsync(path.join(__dirname, '..', '..', 'assets', 'weather', 'icons', theme, 'precip.png')); // eslint-disable-line max-len\n\t\tgenerate();\n\n\t\treturn msg.channel.send({ files: [{ attachment: canvas.toBuffer(), name: `${geocodelocation}.png` }] });\n\t}\n\n\thandleNotOK(msg, status) {\n\t\tif (status === 'ZERO_RESULTS') return 'your request returned no results.';\n\t\telse if (status === 'REQUEST_DENIED') return 'Geocode API Request was denied.';\n\t\telse if (status === 'INVALID_REQUEST') return 'Invalid Request,';\n\t\telse if (status === 'OVER_QUERY_LIMIT') return 'Query Limit Exceeded. Try again tomorrow.';\n\t\telse return 'Unknown.';\n\t}\n\n\tgetBase(icon) {\n\t\tif (icon === 'clear-day' || icon === 'partly-cloudy-day') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'day.png');\n\t\t} else if (icon === 'clear-night' || icon === 'partly-cloudy-night') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'night.png');\n\t\t} else if (icon === 'rain') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'rain.png');\n\t\t} else if (icon === 'thunderstorm') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'thunderstorm.png');\n\t\t} else if (icon === 'snow' || icon === 'sleet' || icon === 'fog') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'snow.png');\n\t\t} else if (icon === 'wind' || icon === 'tornado') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'windy.png');\n\t\t} else if (icon === 'cloudy') {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'cloudy.png');\n\t\t} else {\n\t\t\treturn path.join(__dirname, '..', '..', 'assets', 'weather', 'base', 'cloudy.png');\n\t\t}\n\t}\n};\n","storage":"0","varName":"","name":"Run Script"}]},{"name":"staff","permissions":"ADMINISTRATOR","restriction":"1","actions":[{"info":"1","infoIndex":"1","storage":"1","varName":"stafccccfff","name":"Store Command Params"},{"storage":"0","varName":"","name":"Delete Message"},{"title":"Accept/Deny/Under Review","author":"","color":"00FFFF","timestamp":"true","url":"","authorIcon":"","imageUrl":"","thumbUrl":"","storage":"1","varName":"stafff","name":"Create Embed Message"},{"storage":"1","varName":"stafff","message":"Your app/appeal is: ${tempVars(\"stafccccfff\")}","name":"Set Embed Description"},{"storage":"1","varName":"stafff","channel":"0","varName2":"","name":"Send Embed Message"}]}]